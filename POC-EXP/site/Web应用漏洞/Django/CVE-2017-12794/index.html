<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="内部使用">
    <link rel="canonical" href="https://secnn.com/Web%E5%BA%94%E7%94%A8%E6%BC%8F%E6%B4%9E/Django/CVE-2017-12794/">
    <link rel="shortcut icon" href="../../../favicon.ico">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Django 500 Debug Page Cross-Site Scripting (XSS) (CVE-2017-12794) - SecNN-Wiki漏洞库管理系统&网络安全知识库-本Wiki所有信息来源于公开漏洞数据库</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Django 500 Debug Page Cross-Site Scripting (XSS) (CVE-2017-12794)", url: "#_top", children: [
              {title: "Environment Setup", url: "#environment-setup" },
              {title: "Vulnerability Reproduction", url: "#vulnerability-reproduction" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../search/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="README.zh-cn/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="README.zh-cn/" class="btn btn-xs btn-link">
        Django调试页面跨站脚本漏洞（CVE-2017-12794）
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../%EF%BC%88CVE-2020-9402%EF%BC%89Django%20Geo%20sql%E6%B3%A8%E5%85%A5/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../%EF%BC%88CVE-2020-9402%EF%BC%89Django%20Geo%20sql%E6%B3%A8%E5%85%A5/" class="btn btn-xs btn-link">
        （CVE-2020-9402）Django Geo sql注入
      </a>
    </div>
    
  </div>

    

    <h1 id="django-500-debug-page-cross-site-scripting-xss-cve-2017-12794">Django 500 Debug Page Cross-Site Scripting (XSS) (CVE-2017-12794)<a class="headerlink" href="#django-500-debug-page-cross-site-scripting-xss-cve-2017-12794" title="Permanent link">&para;</a></h1>
<p><a href="README.zh-cn/">中文版本(Chinese version)</a></p>
<p>Django is a high-level Python web framework that encourages rapid development and clean, pragmatic design.</p>
<p>Django versions before 1.11.5 and 1.10.8 contain a cross-site scripting (XSS) vulnerability in the debug error page. When DEBUG mode is enabled, error pages could potentially expose sensitive information through unescaped HTML in the error message.</p>
<p>The vulnerability is triggered when a database error occurs and its details are displayed in the debug page. The error message from the database is not properly escaped before being rendered in the template.</p>
<p>References:</p>
<ul>
<li><a href="https://www.djangoproject.com/weblog/2017/sep/05/security-releases/">https://www.djangoproject.com/weblog/2017/sep/05/security-releases/</a></li>
<li><a href="https://nvd.nist.gov/vuln/detail/CVE-2017-12794">https://nvd.nist.gov/vuln/detail/CVE-2017-12794</a></li>
<li><a href="https://www.leavesongs.com/PENETRATION/django-debug-page-xss.html">https://www.leavesongs.com/PENETRATION/django-debug-page-xss.html</a></li>
</ul>
<h2 id="environment-setup">Environment Setup<a class="headerlink" href="#environment-setup" title="Permanent link">&para;</a></h2>
<p>Execute the following command to start a vulnerable Django server (the version of Django is 1.11.4):</p>
<div class="highlight"><pre><span></span><code>docker compose up -d
</code></pre></div>
<p>After the server is started, you can access the Django home page at <code>http://your-ip:8000</code>.</p>
<h2 id="vulnerability-reproduction">Vulnerability Reproduction<a class="headerlink" href="#vulnerability-reproduction" title="Permanent link">&para;</a></h2>
<p>Visit the following URL to create a user with a malicious username containing JavaScript code:</p>
<div class="highlight"><pre><span></span><code>http://your-ip:8000/create_user/?username=&lt;script&gt;alert(1)&lt;/script&gt;
</code></pre></div>
<p>The first request will succeed. Then, visit the same URL again to trigger a database unique constraint error. The error page will include the unescaped username in the error message:</p>
<p><img alt="" src="1.png" /></p>
<p>The JavaScript code in the username will be executed in the browser, demonstrating the XSS vulnerability. This vulnerability could be exploited by attackers to execute arbitrary JavaScript code in the context of the debug page, potentially leading to session hijacking or other client-side attacks.</p>
<p>For detailed principle of this vulnerability, please refer to the third link in the references section: <a href="https://www.leavesongs.com/PENETRATION/django-debug-page-xss.html">https://www.leavesongs.com/PENETRATION/django-debug-page-xss.html</a></p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="README.zh-cn/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="README.zh-cn/" class="btn btn-xs btn-link">
        Django调试页面跨站脚本漏洞（CVE-2017-12794）
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../%EF%BC%88CVE-2020-9402%EF%BC%89Django%20Geo%20sql%E6%B3%A8%E5%85%A5/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../%EF%BC%88CVE-2020-9402%EF%BC%89Django%20Geo%20sql%E6%B3%A8%E5%85%A5/" class="btn btn-xs btn-link">
        （CVE-2020-9402）Django Geo sql注入
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content"><p>Copyright © 2025 SecNN-Wiki</p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="None">Windmill Dark</a> theme by 内部使用 (noraj).</p>
</footer>

</body>
</html>